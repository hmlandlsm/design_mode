<!--  -->
<!DOCTYPE html>
<html>

<head>
    <meta charset='utf-8'>
    <title></title>
</head>

<body></body>

</html>
<script>
    // 不传name返回所有值，否则返回对应值
    function getUrlParams(name) {
        var url = window.location.search;
        if (url.indexOf('?') == 1) { return false; }
        url = url.substr(1);
        url = url.split('&');
        var name = name || '';
        var nameres;
        // 获取全部参数及其值
        for (var i = 0; i < url.length; i++) {
            var info = url[i].split('=');
            var obj = {};
            obj[info[0]] = decodeURI(info[1]);
            url[i] = obj;
        }
        // 如果传入一个参数名称，就匹配其值
        if (name) {
            for (var i = 0; i < url.length; i++) {
                for (const key in url[i]) {
                    if (key == name) {
                        nameres = url[i][key];
                    }
                }
            }
        } else {
            nameres = url;
        }
        // 返回结果
        return nameres;
    }


    // 实例测试
    const url = 'https://fengdie.mdollar.cn/p/q/kfmaa493?openId=136455&code=0118Kj100dglNK1qBP300VlJSi48Kj1m&state=STATE&appid=wxb5c430e03be5d432#/';
    var res = getUrlParams();
    var res1 = getUrlParams('openId');
    console.log(res); //  [{id: "1"}, {from: "index"}]
    console.log(res1); // 1
</script>